{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst form = document.querySelector('.feedback-form');\nconst STORAGE_KEY = 'feedback-form-state';\n\nconst saveFormState = (event) => {\n  const formElements = event.currentTarget.elements;\n  const emailValue = formElements.email.value;\n  const messageValue = formElements.message.value;\n  const formState = {\n    email: emailValue,\n    message: messageValue\n  };\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(formState));\n}\n\nconst loadFormState = () => {\n  const savedState = localStorage.getItem(STORAGE_KEY);\n  if (savedState) {\n    const { email, message } = JSON.parse(savedState);\n    form.elements.email.value = email;\n    form.elements.message.value = message;\n  }\n};\n\nconst handleSubmit = event => {\n  event.preventDefault();\n  const formElements = event.currentTarget.elements\n  console.log({\n    email: formElements.email.value,\n    message: formElements.message.value,\n  });\n  localStorage.removeItem(STORAGE_KEY);\n  form.reset();\n};\n\nform.addEventListener('input', throttle(saveFormState), 500);\nform.addEventListener('submit', handleSubmit);\n\ndocument.addEventListener('DOMContentLoaded', loadFormState);\n"],"names":["form","STORAGE_KEY","saveFormState","event","formElements","emailValue","messageValue","formState","loadFormState","savedState","email","message","handleSubmit","throttle"],"mappings":"wIAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAc,sBAEdC,EAAiBC,GAAU,CAC/B,MAAMC,EAAeD,EAAM,cAAc,SACnCE,EAAaD,EAAa,MAAM,MAChCE,EAAeF,EAAa,QAAQ,MACpCG,EAAY,CAChB,MAAOF,EACP,QAASC,CACb,EACE,aAAa,QAAQL,EAAa,KAAK,UAAUM,CAAS,CAAC,CAC7D,EAEMC,EAAgB,IAAM,CAC1B,MAAMC,EAAa,aAAa,QAAQR,CAAW,EACnD,GAAIQ,EAAY,CACd,KAAM,CAAE,MAAAC,EAAO,QAAAC,CAAO,EAAK,KAAK,MAAMF,CAAU,EAChDT,EAAK,SAAS,MAAM,MAAQU,EAC5BV,EAAK,SAAS,QAAQ,MAAQW,CAC/B,CACH,EAEMC,EAAeT,GAAS,CAC5BA,EAAM,eAAc,EACpB,MAAMC,EAAeD,EAAM,cAAc,SACzC,QAAQ,IAAI,CACV,MAAOC,EAAa,MAAM,MAC1B,QAASA,EAAa,QAAQ,KAClC,CAAG,EACD,aAAa,WAAWH,CAAW,EACnCD,EAAK,MAAK,CACZ,EAEAA,EAAK,iBAAiB,QAASa,EAASX,CAAa,EAAG,GAAG,EAC3DF,EAAK,iBAAiB,SAAUY,CAAY,EAE5C,SAAS,iBAAiB,mBAAoBJ,CAAa"}